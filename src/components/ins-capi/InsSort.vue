<!--
åç§°ï¼šIns æŽ’åº
ç‰ˆæœ¬ï¼š1.0.0
ä½œè€…ï¼šæž—åŠ ç‚³
æ—¶é—´ï¼š2021
-->
<template>
  <div class="ins-sort">
    <!-- {{ msg }} -->
    <!-- ins-sort
    <div>
      <ul class=" h-3">
        <li v-for="(item, index) in list" :key="index" class="float-left">
          {{ item.label }}
          <i>u</i>
          <i>d</i>
        </li>
      </ul>
    </div> -->
    <div>
      <!-- :default-sort="{ prop: 'address', order: 'descending' }" -->
      <el-table :data="tableData" style="width: 100%" @sort-change="sortChange">
        <!-- <el-table-column prop="date" label="æ—¥æœŸ" width="180" sortable="custom"> </el-table-column> -->
        <!-- <el-table-column prop="name" label="å§“å" width="180" sortable="custom"> </el-table-column> -->
        <!-- <el-table-column prop="address" label="åœ°å€" sortable="custom"> </el-table-column> -->

        <el-table-column
          v-for="(item, index) in tableHead"
          :key="index"
          :prop="item.prop"
          :label="item.label"
          sortable="custom"
        >
        </el-table-column>
      </el-table>
    </div>
  </div>
</template>

<script>
import { defineComponent, onMounted, reactive, toRefs } from '@vue/composition-api'

// component

// use

// common
// import merge from 'lodash/merge'
// import copy from 'fast-copy'

// api

export default defineComponent({
  name: 'InsSort',
  components: {},
  props: {
    tableHead: {
      type: Array,
      default: () => {
        return [
          { label: 'æ—¥æœŸ', prop: 'date' },
          { label: 'å§“å', prop: 'name' },
          { label: 'åœ°å€', prop: 'address' },
        ]
      },
    },
  },
  setup(props, ctx) {
    const state = reactive({
      msg: 'hello',
      list: [{ label: 'åç§°' }, { label: 'æ—¥æœŸ' }, { label: 'æ•°é‡' }],
      active: 1,
      tableData: [
        // {
        //   date: '2016-05-02',
        //   name: 'çŽ‹å°è™Ž',
        //   address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„',
        // },
        // {
        //   date: '2016-05-04',
        //   name: 'çŽ‹å°è™Ž',
        //   address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1517 å¼„',
        // },
        // {
        //   date: '2016-05-01',
        //   name: 'çŽ‹å°è™Ž',
        //   address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1519 å¼„',
        // },
        // {
        //   date: '2016-05-03',
        //   name: 'çŽ‹å°è™Ž',
        //   address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„',
        // },
      ],
      //   tableHead: [
      //     { label: 'æ—¥æœŸ', prop: 'date' },
      //     { label: 'å§“å', prop: 'name' },
      //     { label: 'åœ°å€', prop: 'address' },
      //   ],
    })

    const sortChange = (column, prop, order) => {
      console.log(
        'ðŸš€ ~ file: InsSort.vue ~ line 77 ~ sortChange ~ column, prop, order',
        column,
        prop,
        order
      )
      ctx.emit('sortChange', column, prop, order)
    }

    const render = () => {
      //
    }

    const init = () => {
      render()
    }

    onMounted(() => {
      init()
    })

    return {
      ...toRefs(state),
      sortChange,
    }
  },
})
</script>

<style lang="scss" scoped>
.ins-sort {
  visibility: initial;
}
::v-deep .el-table__body-wrapper {
  display: none;
}
</style>
